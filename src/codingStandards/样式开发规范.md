# 样式开发规范

## 1 概述

样式开发规范涵盖 CSS、Less 和 SCSS 等样式表语言的编写标准，旨在确保样式代码的一致性、可维护性和性能优化。

## 2 基础规范

### 2.1 文件命名
- 文件名使用小写，单词间用短横线分隔
- 使用有意义的名称，反映文件的功能或包含的组件

```
// 推荐
button.css
user-profile.scss
form-validation.less

// 避免
style.css
btnStyle.scss
formvalidation.less
```

### 2.2 文件组织
- 按功能或组件组织样式文件
- 大型项目可使用模块化结构
- 保持样式文件的合理大小（单个文件不超过 2000 行）

### 2.3 编码格式
- 使用 UTF-8 编码
- 缩进使用 2 个空格
- 行末不保留空格

## 3 CSS 规范

### 3.1 选择器
- **类选择器**：使用 BEM 命名规范（Block, Element, Modifier）
  ```css
  /* 推荐 */
  .button {
    /* Block */
  }
  
  .button__icon {
    /* Element */
  }
  
  .button--primary {
    /* Modifier */
  }
  ```
- **ID 选择器**：仅用于页面唯一元素或需要通过 JavaScript 快速选择的元素
  ```css
  #header {
    /* ID 选择器 */
  }
  ```
- **标签选择器**：仅用于通用元素样式
  ```css
  body {
    font-family: Arial, sans-serif;
  }
  ```
- **避免使用通配符选择器**：影响性能
  ```css
  /* 避免 */
  * {
    box-sizing: border-box;
  }
  ```
- **允许特定的伪元素**：支持 v-deep, v-global, /deep/ 伪元素用于样式穿透
  ```css
  /* 允许的样式穿透写法 */
  .container ::v-deep .child {
    /* 样式 */
  }
  
  .container /deep/ .child {
    /* 样式 */
  }
  ```
- **允许特定的选择器类型**：支持 custom-tag 自定义标签和 svg/canvas 命名空间

### 3.2 属性和值
- **属性顺序**：
  1. 布局属性（display, position, float, clear）
  2. 盒模型（width, height, margin, padding, border）
  3. 文本属性（font, text-align, color, background）
  4. 其他属性（transform, transition, animation）
  ```css
  .element {
    display: flex;
    position: relative;
    width: 100px;
    height: 100px;
    margin: 10px;
    padding: 5px;
    font-size: 14px;
    color: #333;
    background-color: #fff;
  }
  ```
- **颜色值**：
  - 优先使用十六进制颜色值
  - 十六进制颜色值使用小写
  - 简短的颜色值使用缩写形式
  - 使用旧版颜色函数表示法（如 rgba() 而非 rgb() + alpha）
  - alpha 值使用数字表示法（如 0.5 而非 50%）
  ```css
  /* 推荐 */
  .element {
    color: #333;
    background-color: #fff;
    border-color: rgba(0, 0, 0, 0.5);
  }
  
  /* 避免 */
  .element {
    color: rgb(51, 51, 51);
    background-color: white;
    border-color: rgba(0, 0, 0, 50%);
  }
  ```
- **数值**：
  - 0 值不需要单位
  - 小于 1 的小数省略小数点前的 0
  - 数字最大精度为 2（如 0.12 而非 0.1234）
  ```css
  /* 推荐 */
  .element {
    margin: 0;
    padding: 0.5em;
    opacity: .5;
    font-weight: 300;
  }
  
  /* 避免 */
  .element {
    margin: 0px;
    padding: 0.5em;
    opacity: 0.50;
    font-weight: 300.12;
  }
  ```
- **允许特定的单位**：支持 rpx 单位（小程序开发常用）
  ```css
  .element {
    width: 200rpx;
    height: 100rpx;
    font-size: 28rpx;
  }
  ```
- **不限制选择器类名格式**：允许使用驼峰命名法或其他格式的类名
  ```css
  /* 允许 */
  .userInfo {
    /* 样式 */
  }
  
  .user-info {
    /* 样式 */
  }
  
  .userInfoContainer {
    /* 样式 */
  }
  ```

### 3.3 代码风格
- **花括号**：与选择器在同一行，右花括号单独成行
  ```css
  /* 推荐 */
  .element {
    color: #333;
  }
  
  /* 避免 */
  .element
  {
    color: #333;
  }
  ```
- **空格**：
  - 选择器和花括号之间有一个空格
  - 属性名和冒号之间没有空格
  - 冒号和属性值之间有一个空格
  - 多个属性值之间用逗号分隔并添加空格
  ```css
  /* 推荐 */
  .element {
    color: #333;
    font-family: Arial, sans-serif;
  }
  
  /* 避免 */
  .element{color:#333;font-family:Arial,sans-serif;}
  ```
- **空行**：
  - 选择器之间添加空行
  - 规则前只允许一个空行（除了嵌套规则的第一个）
  ```css
  .button {
    /* 样式 */
  }
  
  .button__icon {
    /* 样式 */
  }
  ```

## 4 Less 规范

### 4.1 变量
- 使用 @ 符号定义变量
- 变量名使用小写，单词间用短横线分隔
- 集中定义通用变量（颜色、字体、间距等）

```less
// 推荐
@primary-color: #007bff;
@secondary-color: #6c757d;
@font-size-base: 14px;
@spacing-base: 8px;
```

### 4.2 混合（Mixins）
- 使用 . 定义混合
- 混合名使用小写，单词间用短横线分隔
- 复杂的混合可以添加参数

```less
// 推荐
.box-shadow(@shadow) {
  box-shadow: @shadow;
}

.flex-center {
  display: flex;
  justify-content: center;
  align-items: center;
}
```

### 4.3 嵌套
- 嵌套深度不超过 3 层
- 避免不必要的嵌套
- 使用 & 引用父选择器

```less
// 推荐
.button {
  /* 样式 */
  
  &--primary {
    /* 样式 */
  }
  
  &:hover {
    /* 样式 */
  }
  
  .icon {
    /* 样式 */
  }
}
```

### 4.4 运算
- 使用括号明确运算优先级
- 保持单位一致性

```less
// 推荐
@width: 100px;
@height: @width * 2;
@padding: (@spacing-base * 2);
```

### 4.5 特定规则
- **颜色函数**：使用旧版表示法（如 rgba()）
- **alpha 值**：使用数字表示法（如 0.5）
- **颜色十六进制**：允许3位或6位格式
- **数字精度**：最大精度为2位小数
- **不要求通用字体族**：允许自定义字体配置

## 5 SCSS 规范

### 5.1 变量
- 使用 $ 符号定义变量
- 变量名使用小写，单词间用短横线分隔
- 集中定义通用变量
- **变量空行规则**：变量前允许一行空行（除了其他变量之后或嵌套块的第一个）
  ```scss
  // 推荐
  $base-color: #333;
  
  $primary-color: #007bff;
  $secondary-color: #6c757d;
  
  .container {
    $local-color: #fff;
    color: $local-color;
  }
  ```

### 5.2 混合（Mixins）
- 使用 @mixin 定义混合
- 混合名使用小写，单词间用短横线分隔
- 复杂的混合可以添加参数和默认值

```scss
// 推荐
@mixin box-shadow($shadow: 0 2px 4px rgba(0, 0, 0, 0.1)) {
  box-shadow: $shadow;
}

@mixin flex-center {
  display: flex;
  justify-content: center;
  align-items: center;
}
```

### 5.3 函数
- 使用 @function 定义函数
- 函数名使用小写，单词间用短横线分隔
- 函数应返回有意义的值

```scss
// 推荐
@function calculate-rem($pixel-value) {
  @return $pixel-value / $font-size-base * 1rem;
}

@function darken-color($color, $amount) {
  @return mix(#000, $color, $amount);
}
```

### 5.4 嵌套
- 嵌套深度不超过 3 层
- 使用 & 引用父选择器
- 避免不必要的嵌套

```scss
// 推荐
.button {
  /* 样式 */
  
  &--primary {
    /* 样式 */
  }
  
  &:hover {
    /* 样式 */
  }
  
  .icon {
    /* 样式 */
  }
}
```

### 5.5 运算
- 使用括号明确运算优先级
- 支持颜色运算

```scss
// 推荐
$width: 100px;
$height: $width * 2;
$primary-dark: darken($primary-color, 10%);
```

### 5.6 条件与循环
- 合理使用 @if, @else if, @else 条件语句
- 使用 @for, @each, @while 循环语句简化重复代码

```scss
// 条件语句
@if $theme == 'dark' {
  body {
    background-color: #000;
    color: #fff;
  }
}

// 循环语句
@for $i from 1 through 5 {
  .col-#{$i} {
    width: 100% / 5 * $i;
  }
}

@each $color in primary, secondary, success {
  .text-#{$color} {
    color: map-get($colors, $color);
  }
}
```

### 5.7 特定规则
- **变量空行**：变量前允许一行空行，有特定的例外规则
  ```scss
  // 推荐 - 变量组之间有空行
  $base-color: #333;
  $font-size: 14px;
  
  $primary-color: #007bff;
  $secondary-color: #6c757d;
  
  // 推荐 - 嵌套块中的变量不需要空行
  .container {
    $local-color: #fff;
    color: $local-color;
  }
  ```
- **允许低优先级选择器**：允许低优先级的选择器在高优先级的选择器之后
  ```scss
  // 允许
  .container {
    /* 样式 */
  }
  
  .container .child {
    /* 样式 */
  }
  ```
- **颜色函数**：使用旧版表示法
- **alpha 值**：使用数字表示法
- **颜色十六进制**：允许3位或6位格式
- **数字精度**：最大精度为2位小数

## 6 通用最佳实践

### 6.1 选择器优先级
- 避免使用 !important
- 合理使用选择器权重，保持低优先级
- 优先使用类选择器，避免使用 ID 选择器

### 6.2 性能优化
- 减少选择器的复杂度
- 避免使用 * 通配符选择器
- 使用 CSS 动画代替 JavaScript 动画
- 避免不必要的重排和重绘

### 6.3 可维护性
- 保持样式的模块化
- 避免重复代码
- 使用有意义的命名
- 添加必要的注释

### 6.4 兼容性
- 考虑浏览器兼容性
- 使用 CSS 前缀工具（如 Autoprefixer）
- 避免使用实验性的 CSS 特性

### 6.5 注释
- 添加必要的注释说明样式的用途
- 使用单行注释（//）或块注释（/* */）
- 注释与代码保持一致的缩进

```css
/* 按钮样式 */
.button {
  /* 基础样式 */
}

// 主要按钮变体
.button--primary {
  /* 样式 */
}
```

## 7 常见错误与避免方法

### 7.1 选择器滥用
- **问题**：过度使用嵌套和复杂选择器
- **避免方法**：使用 BEM 命名规范，保持选择器简洁

### 7.2 样式覆盖
- **问题**：样式被意外覆盖
- **避免方法**：合理设计选择器权重，避免使用 !important

### 7.3 代码重复
- **问题**：相同的样式在多处重复定义
- **避免方法**：使用变量、混合和函数

### 7.4 性能问题
- **问题**：样式代码导致页面加载缓慢或渲染性能差
- **避免方法**：优化选择器，减少不必要的样式，使用 CSS 动画

### 7.5 维护困难
- **问题**：样式代码难以理解和维护
- **避免方法**：遵循命名规范，保持代码组织合理，添加必要的注释## 8 布局规范

### 8.1 Flexbox 最佳实践
- **明确主轴方向**：始终明确设置 `flex-direction`（默认值 `row`）
- **避免过度嵌套**：Flexbox 已经提供了强大的布局能力，避免不必要的嵌套
- **合理使用弹性**：使用 `flex` 简写属性控制子元素的伸缩行为
- **对齐方式**：优先使用 `align-items` 和 `justify-content` 进行对齐，避免使用 margin 等 hack 方式

```css
/* 推荐 */
.flex-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
}

.flex-item {
  flex: 1 0 auto; /* 放大: 1, 缩小: 0, 基础尺寸: auto */
}

/* 避免 */
.flex-container {
  display: flex;
}

.flex-item {
  margin: 0 auto;
}
```

### 8.2 CSS Grid 最佳实践
- **明确网格结构**：使用 `grid-template-columns` 和 `grid-template-rows` 定义清晰的网格结构
- **使用命名区域**：对于复杂布局，使用 `grid-template-areas` 提高可读性
- **合理使用间距**：使用 `gap` 属性控制网格间距，避免使用 margin
- **响应式网格**：结合 `repeat()` 和 `minmax()` 实现自适应网格

```css
/* 推荐 */
.grid-container {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: auto 1fr auto;
  gap: 20px;
  grid-template-areas:
    "header header header"
    "main main sidebar"
    "footer footer footer";
}

.header {
  grid-area: header;
}

.main {
  grid-area: main;
}

/* 响应式网格 */
@media (max-width: 768px) {
  .grid-container {
    grid-template-columns: 1fr;
    grid-template-areas:
      "header"
      "main"
      "sidebar"
      "footer";
  }
}

/* 避免 */
.grid-container {
  display: grid;
}

.grid-item {
  grid-column: span 3;
  margin: 10px;
}
```

## 9 响应式设计规范

### 9.1 媒体查询
- **断点设置**：使用移动优先原则，设置合理的断点
- **断点命名**：为断点添加有意义的命名（如 `@media (min-width: $breakpoint-sm)`）
- **避免过多断点**：保持断点数量合理，避免过度设计

```css
/* 推荐 - 移动优先断点 */
$breakpoint-sm: 576px;
$breakpoint-md: 768px;
$breakpoint-lg: 992px;
$breakpoint-xl: 1200px;

.element {
  /* 移动端样式 */
}

@media (min-width: $breakpoint-sm) {
  .element {
    /* 小屏幕样式 */
  }
}

@media (min-width: $breakpoint-md) {
  .element {
    /* 中屏幕样式 */
  }
}

/* 避免 - 桌面优先断点 */
.element {
  /* 桌面端样式 */
}

@media (max-width: 1200px) {
  .element {
    /* 大屏幕样式 */
  }
}
```

### 9.2 响应式单位
- **优先使用相对单位**：使用 `rem`, `em`, `vw/vh`, `%` 等相对单位
- **避免固定像素宽度**：使用 `max-width`, `min-width` 等属性实现自适应
- **字体响应式**：使用 `clamp()` 函数实现响应式字体大小

```css
/* 推荐 */
.container {
  max-width: 1200px;
  width: 95%;
  margin: 0 auto;
}

.responsive-text {
  font-size: clamp(1rem, 2vw, 1.5rem);
}

/* 避免 */
.container {
  width: 1200px;
  margin: 0 auto;
}

.fixed-text {
  font-size: 16px;
}
```

## 10 CSS 动画与过渡规范

### 10.1 过渡（Transitions）
- **过渡属性**：明确指定要过渡的属性，避免使用 `all`
- **过渡时间**：使用合适的过渡时间（200-500ms 最佳）
- **缓动函数**：使用 `ease-in-out` 作为默认缓动函数，或自定义贝塞尔曲线

```css
/* 推荐 */
.button {
  transition: background-color 0.3s ease-in-out, transform 0.2s ease;
}

.button:hover {
  background-color: #0056b3;
  transform: translateY(-2px);
}

/* 避免 */
.button {
  transition: all 1s ease;
}

.button:hover {
  background-color: #0056b3;
  transform: translateY(-2px);
}
```

### 10.2 动画（Animations）
- **动画命名**：使用有意义的动画名称
- **关键帧优化**：减少关键帧数量，仅定义必要的状态
- **性能优化**：使用 `transform` 和 `opacity` 属性进行动画，避免触发重排

```css
/* 推荐 */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.fade-in-element {
  animation: fadeIn 0.5s ease-in-out forwards;
}

/* 避免 */
@keyframes complexAnimation {
  0% {
    opacity: 0;
    margin-top: 20px;
    padding-left: 0;
  }
  50% {
    opacity: 0.5;
    margin-top: 10px;
    padding-left: 10px;
  }
  100% {
    opacity: 1;
    margin-top: 0;
    padding-left: 20px;
  }
}
```

## 11 样式重置与基础样式

### 11.1 样式重置
- **使用成熟的重置库**：推荐使用 Normalize.css 或 Reset CSS
- **自定义重置**：根据项目需求进行必要的自定义重置
- **保持重置简洁**：仅重置必要的样式，避免过度重置

```css
/* 基础重置 */
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  line-height: 1.6;
  color: #333;
}

/* 避免过度重置 */
/* 不推荐 */
h1, h2, h3, h4, h5, h6, p, ul, ol, li, 
form, input, button, textarea, select {
  margin: 0;
  padding: 0;
  border: 0;
  font-size: 100%;
  font: inherit;
  vertical-align: baseline;
}
```

### 11.2 基础样式
- **设置基础字体**：定义全局字体和行高
- **颜色系统**：建立全局颜色变量系统
- **间距系统**：建立统一的间距变量系统

```scss
/* 基础样式变量 */
// 颜色系统
$color-primary: #007bff;
$color-secondary: #6c757d;
$color-success: #28a745;
$color-danger: #dc3545;
$color-warning: #ffc107;
$color-info: #17a2b8;
$color-light: #f8f9fa;
$color-dark: #343a40;

// 字体系统
$font-family-base: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
$font-family-heading: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
$font-size-base: 16px;
$line-height-base: 1.6;

// 间距系统
$spacing-xs: 4px;
$spacing-sm: 8px;
$spacing-md: 16px;
$spacing-lg: 24px;
$spacing-xl: 32px;
$spacing-xxl: 48px;

// 应用基础样式
body {
  font-family: $font-family-base;
  font-size: $font-size-base;
  line-height: $line-height-base;
  color: $color-dark;
  background-color: $color-light;
}

h1, h2, h3, h4, h5, h6 {
  font-family: $font-family-heading;
  margin-bottom: $spacing-md;
  font-weight: 600;
  line-height: 1.2;
}

h1 {
  font-size: 2.5rem;
}

h2 {
  font-size: 2rem;
}
```

## 12 移动端样式开发规范

### 12.1 触摸交互
- **触摸目标大小**：确保按钮等可点击元素的尺寸不小于 44x44px
- **触摸反馈**：为触摸操作提供明确的视觉反馈
- **避免悬停效果**：移动端没有悬停状态，使用 `:active` 替代

```css
/* 推荐 */
.touch-button {
  min-width: 44px;
  min-height: 44px;
  padding: $spacing-sm $spacing-md;
  cursor: pointer;
}

.touch-button:active {
  transform: scale(0.95);
}

/* 避免 */
.small-button {
  width: 30px;
  height: 30px;
}

.small-button:hover {
  background-color: $color-primary;
}
```

### 12.2 移动端适配
- **视口设置**：正确设置 `viewport` meta 标签
- **禁止缩放**：对于应用类网站，可考虑禁止用户缩放
- **适配刘海屏**：考虑 iPhone 等设备的刘海屏设计

```html
<!-- 推荐 -->
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<!-- 适配刘海屏 -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
```

```css
/* 适配刘海屏 */
@supports (padding: env(safe-area-inset-top)) {
  .header {
    padding-top: env(safe-area-inset-top);
  }
  
  .footer {
    padding-bottom: env(safe-area-inset-bottom);
  }
}
```

## 13 与前端框架配合使用规范

### 13.1 React 样式规范
- **组件样式隔离**：使用 CSS Modules, styled-components 或 Emotion 等方案
- **避免全局样式**：优先使用组件级样式
- **动态样式**：使用框架提供的方式处理动态样式

```css
/* CSS Modules */
/* Button.module.css */
.button {
  /* 样式 */
}

.button--primary {
  /* 样式 */
}
```

```jsx
// React 组件中使用
import React from 'react';
import styles from './Button.module.css';

const Button = ({ variant = 'primary', ...props }) => {
  return (
    <button 
      className={`${styles.button} ${styles[`button--${variant}`]}`}
      {...props}
    />
  );
};
```

### 13.2 Vue 样式规范
- **scoped 样式**：使用 `scoped` 属性隔离组件样式
- **深度选择器**：使用 `::v-deep` 或 `/deep/` 进行样式穿透
- **CSS Modules**：支持使用 CSS Modules

```vue
<template>
  <button class="button button--primary">
    {{ text }}
  </button>
</template>

<style scoped>
.button {
  /* 组件样式 */
}

.button--primary {
  /* 组件样式 */
}

/* 样式穿透 */
.container ::v-deep .third-party-component {
  /* 第三方组件样式修改 */
}
</style>
```

## 14 性能优化高级指南

### 14.1 样式加载优化
- **关键 CSS**：将首屏关键 CSS 内联到 HTML 中
- **异步加载**：非关键 CSS 使用异步加载
- **避免 @import**：使用 `<link>` 标签替代 @import 导入样式

### 14.2 渲染性能
- **避免重排重绘**：
  - 减少 DOM 操作
  - 使用 `transform` 和 `opacity` 进行动画
  - 批量修改 DOM
- **使用 will-change**：对于需要动画的元素，使用 `will-change` 提前通知浏览器

```css
/* 推荐 */
.animated-element {
  will-change: transform, opacity;
  transition: transform 0.3s ease, opacity 0.3s ease;
}

/* 避免 */
.animated-element {
  top: 0;
  left: 0;
  transition: top 0.3s ease, left 0.3s ease;
}
```

### 14.3 CSS 体积优化
- **移除未使用的 CSS**：使用 PurgeCSS 等工具移除未使用的样式
- **压缩 CSS**：使用 CSSNano 等工具压缩 CSS
- **合并 CSS 文件**：减少 HTTP 请求（但注意 HTTP/2 的影响）

## 15 代码审查指南

### 15.1 审查要点
- **命名规范**：检查选择器命名是否符合 BEM 规范
- **代码重复**：检查是否存在重复的样式代码
- **性能问题**：检查是否存在性能隐患（如复杂选择器、过度使用动画等）
- **响应式设计**：检查是否考虑了不同屏幕尺寸
- **可维护性**：检查代码是否易于理解和维护

### 15.2 审查清单
- [ ] 选择器是否符合 BEM 命名规范？
- [ ] 是否存在过度嵌套的选择器？
- [ ] 是否过度使用 `!important`？
- [ ] 是否使用了合适的单位？
- [ ] 动画是否只使用了 `transform` 和 `opacity`？
- [ ] 是否考虑了响应式设计？
- [ ] 是否存在重复的样式代码？
- [ ] 是否添加了必要的注释？
- [ ] 是否使用了合适的变量和混合？

## 16 工具与自动化

### 16.1 开发工具
- **CSS 预处理器**：Less/SCSS
- **PostCSS**：使用 Autoprefixer、CSSNano 等插件
- **样式lint**：使用样式lint 进行代码检查
- **设计系统**：考虑使用 Storybook 等工具构建设计系统

### 16.2 自动化配置
- **样式lint 配置**：

```json
{
  "extends": [
    "stylelint-config-standard",
    "stylelint-config-prettier"
  ],
  "plugins": [
    "stylelint-order"
  ],
  "rules": {
    "indentation": 2,
    "string-quotes": "single",
    "property-no-unknown": true,
    "declaration-block-trailing-semicolon": "always",
    "order/order": [
      "custom-properties",
      "declarations"
    ],
    "order/properties-alphabetical-order": true
  }
}
```

- **PostCSS 配置**：

```js
module.exports = {
  plugins: {
    'autoprefixer': {
      browsers: ['last 2 versions', 'iOS >= 9', 'Android >= 4.4']
    },
    'cssnano': {
      preset: 'default'
    }
  }
};
```

## 17 案例分析

### 17.1 优秀样式代码示例

```scss
/* 按钮组件样式 - 符合 BEM 规范 */
.btn {
  display: inline-block;
  padding: $spacing-sm $spacing-md;
  border: none;
  border-radius: 4px;
  font-size: $font-size-base;
  font-weight: 500;
  text-align: center;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.3s ease;
  
  &--primary {
    background-color: $color-primary;
    color: #fff;
    
    &:hover:not(:disabled) {
      background-color: darken($color-primary, 10%);
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
  }
  
  &--secondary {
    background-color: $color-secondary;
    color: #fff;
  }
  
  &--large {
    padding: $spacing-md $spacing-lg;
    font-size: 1.1rem;
  }
  
  &--small {
    padding: $spacing-xs $spacing-sm;
    font-size: 0.9rem;
  }
  
  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }
}
```

### 17.2 需要改进的样式代码

```css
/* 需要改进的代码 */
#main .container .content .button {
  background-color: #007bff;
  color: white;
  padding: 10px 20px;
  border-radius: 4px;
  font-size: 16px;
}

#main .container .content .button:hover {
  background-color: #0056b3;
}

@media (max-width: 768px) {
  #main .container .content .button {
    padding: 8px 16px;
    font-size: 14px;
  }
}

/* 改进后的代码 */
.btn {
  background-color: $color-primary;
  color: #fff;
  padding: $spacing-sm $spacing-md;
  border-radius: 4px;
  font-size: $font-size-base;
  transition: background-color 0.3s ease;
}

.btn:hover {
  background-color: darken($color-primary, 10%);
}

@media (max-width: $breakpoint-md) {
  .btn {
    padding: $spacing-xs $spacing-sm;
    font-size: 0.9rem;
  }
}
```